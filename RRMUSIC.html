<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RR MUSIC</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <link rel="stylesheet" href="RRMUSIC.css">
</head>
<body>

<aside class="sidenav">
    <div class="logo">
        <a href="#"><img class="pb-50" src="RRLOGO.png" alt=""></a>
    </div>
    <div class="menulink">
        <a href="#"><i class="fas fa-home"></i><span>Home</span></a>
        <a href="#"><i class="fas fa-search"></i> <span>Search</span> </a>
        <a href="#"><i class="fas fa-book pb-50"></i> <span>Your Library</span></a>
    </div>
    <div class="buttons">
        <a href="#"><button type="button" class="btn btn-light">Sign Up</button></a>
        <a href="registration page.html"><button type="button" class="btn btn-dark">Log In</button></a>
    </div>
    <div class="cookie col-md-12 text-center">
        <div class="col-md-4  col-sm-12 ">
            <a href="#">Cookie Policy</a>
        </div>
        <div class="col-md-2 col-sm-12"> | </div>
        <div class="col-md-6 col-sm-12">
            <a href="#">Privacy</a>
        </div>
    </div>
</aside>

<main>
    <div class="container-flex ptb-30 plb-20">
        <div class="toplist">
            <ul class="list-inline">
                <li><a href="#">Featured</a></li>
                <li><a href="#">Genres & Moods</a></li>
                <li><a href="#">Charts</a></li>
            </ul>
        </div>
    </div>
    <div class="title plb-20">
        <h1><strong>Have you ever listened to this music?????</strong></h1>
    </div>
    <div class="container-flex text-center">
        <div class="music-card" data-tracks='["track1-1.mp3", "track1-2.mp3", "track1-3.mp3"]'>
            <a href="#"><img src="heavymetal.jpg" alt=""></a>
            <p>Heavy Metal</p>
        </div>
        <div class="music-card" data-tracks='["track2-1.mp3", "track2-2.mp3", "track2-3.mp3"]'>
            <a href="#"><img src="heavymetal2.jpg" alt=""></a>
            <p>Heavy Metal 2</p>
        </div>
        <div class="music-card" data-tracks='["track3-1.mp3", "track3-2.mp3", "track3-3.mp3"]'>
            <a href="#"><img src="diamond eyes.jpg" alt=""></a>
            <p>Diamond Eyes</p>
        </div>
        <div class="music-card" data-tracks='["track4-1.mp3", "track4 -2.mp3", "track4-3.mp3"]'>
            <a href="#"><img src="no comments.jpg" alt=""></a>
            <p>No comments</p>
        </div>
        <div class="music-card" data-tracks='["track5-1.mp3", "track5-2.mp3", "track5-3.mp3"]'>
            <a href="#"><img src="2004.jpg" alt=""></a>
            <p>2004</p>
        </div>
        <div class="music-card" data-tracks='["Скриптонит - Интро.mp3", "Скриптонит - Дома.mp3", "Скриптонит - Оставь это нам.mp3", "Скриптонит - Вниз.mp3", "Скриптонит - Коньяк.mp3", "Скриптонит - Океан.mp3", "Скриптонит - Притон.mp3", "Скриптонит - Танцуй сама.mp3", "Скриптонит - На должном.mp3", "Скриптонит - Сука тащит нас на дно.mp3", "Скриптонит - Сны.mp3", "Скриптонит - 100 поцелуев.mp3", "Скриптонит - Бумажки.mp3", "Скриптонит - Лям.mp3", "Скриптонит - Стиль.mp3", "Скриптонит - Я не улыбаюсь.mp3", "Скриптонит - Вечеринка.mp3", "Скриптонит - Это любовь.mp3"]'>
            <a href="#"><img src="дом с нормальными явлениями.jpg" alt=""></a>
            <p>Дом с нормальными явлениями</p>
        </div>
        <div class="music-card" data-tracks='["трата времени.mp3", "животные.mp3", "мистер 718.mp3", "пацан.mp3", "сливочное масло.mp3", "положение.mp3", "внатуре.mp3", "трата времени.mp3"]'>
            <a href="#"><img src="Уроборос.jpg" alt=""></a>
            <p>Уроборос</p>
        </div>
    </div>
    <div class="container-flex">
        <div class="title plb-20">
            <h1><strong>Charts</strong></h1>
        </div>
    </div>
    <div class="container-flex text-center">
        <div class="music-card" data-tracks='["chart1-1.mp3", "chart1-2.mp3", "chart1-3.mp3"]'>
            <a href="#"><img src="top25almaty.jpg" alt=""></a>
            <p>Top 25 - Almaty</p>
        </div>
        <div class="music-card" data-tracks='["chart2-1.mp3", "chart2-2.mp3", "chart2-3.mp3"]'>
            <a href="#"><img src="top25toronto.jpg" alt=""></a>
            <p>Top 25 - Toronto</p>
        </div>
        <div class="music-card" data-tracks='["chart3-1.mp3", "chart3-2.mp3", "chart3-3.mp3"]'>
            <a href="#"><img src="top25LA.jpg" alt=""></a>
            <p>Top 25 - LA</p>
        </div>
        <div class="music-card" data-tracks='["chart4-1.mp3", "chart4-2.mp3", "chart4-3.mp3"]'>
            <a href="#"><img src="top25newyork.jpg" alt=""></a>
            <p>Top 25 - New-York</p>
        </div>
    </div>
</main>

<footer>
  <div class="playmusic text-center">
      <ul class="list-inline">
          <li><a href="#" class="control-button"><i class="fas fa-random"></i></a></li>
          <li><a href="#" class="control-button" id="prev"><i class="fas fa-step-backward"></i></a></li>
          <li><a href="#" class="control-button" id="play"><i class="far fa-play-circle"></i></a></li>
          <li><a href="#" class="control-button" id="pause" style="display: none;"><i class="fas fa-pause"></i></a></li>
          <li><a href="#" class="control-button" id="next"><i class="fas fa-step-forward"></i></a></li>
          <li><a href="#" class="control-button"><i class="fas fa-redo"></i></a></li>
      </ul>
      <div id="track-title">Трек: </div>
  </div>
</footer>

<script>
   document.addEventListener('DOMContentLoaded', function() {
        const musicCards = document.querySelectorAll('.music-card');
        const audio = new Audio();
        let currentTrackIndex = 0;
        let currentTracks = [];

        // Получаем элементы управления
        const playButton = document.getElementById('play');
        const pauseButton = document.getElementById('pause');
        const nextButton = document.getElementById('next');
        const prevButton = document.getElementById('prev');
        const trackTitle = document.getElementById('track-title'); // Элемент для отображения названия трека

        // Проверка на наличие элементов управления
        if (!playButton || !pauseButton || !nextButton || !prevButton || !trackTitle) {
            console.error("Не удалось найти элементы управления. Проверьте HTML.");
            return;
        }

        musicCards.forEach(card => {
            const albumCover = card.querySelector('a');
            albumCover.addEventListener('click', function(event) {
                event.preventDefault();
                currentTracks = JSON.parse(card.getAttribute('data-tracks'));
                currentTrackIndex = 0;
                playTrack();
            });
        });

        audio.addEventListener('ended', function() {
            currentTrackIndex++;
            if (currentTrackIndex < currentTracks.length) {
                playTrack();
            } else {
                currentTrackIndex = 0; // Сбросить индекс, если треки закончились
            }
        });

        function playTrack() {
            audio.src = currentTracks[currentTrackIndex];
            audio.play();
            updatePlayPauseButtons();
            updateTrackTitle(); // Обновляем название трека
        }

        // Обновляем название трека
        function updateTrackTitle() {
            const trackName = currentTracks[currentTrackIndex].split('/').pop(); // Извлекаем имя файла
            trackTitle.textContent = `Трек: ${trackName}`; // Обновляем текст элемента
        }

        // Обработчики событий для кнопок управления
        playButton.addEventListener('click', function(event) {
            event.preventDefault(); // Предотвращаем переход по ссылке
            audio.play();
            updatePlayPauseButtons();
        });

        pauseButton.addEventListener('click', function(event) {
            event.preventDefault(); // Предотвращаем переход по ссылке
            audio.pause(); // Остановка воспроизведения
            updatePlayPauseButtons();
        });

        nextButton.addEventListener('click', function(event) {
            event.preventDefault(); // Предотвращаем переход по ссылке
            currentTrackIndex++;
            if (currentTrackIndex < currentTracks.length) {
                playTrack();
            } else {
                currentTrackIndex = 0; // Сбросить индекс, если треки закончились
                playTrack();
            }
        });

        prevButton.addEventListener('click', function(event) {
            event.preventDefault(); // Предотвращаем переход по ссылке
            currentTrackIndex--;
            if (currentTrackIndex >= 0) {
                playTrack();
            } else {
                currentTrackIndex = currentTracks.length - 1; // Перейти к последнему треку
                playTrack();
            }
        });

        function updatePlayPauseButtons() {
            if (audio.paused) {
                playButton.style.display = 'inline'; // Показать кнопку воспроизведения
                pauseButton.style.display = 'none'; // Скрыть кнопку паузы
            } else {
                playButton.style.display = 'none'; // Скрыть кнопку воспроизведения
                pauseButton.style.display = 'inline'; // Показать кнопку паузы
            }
        }

        // Инициализация состояния кнопок
        updatePlayPauseButtons();
    });
</script>
</body>
</html>